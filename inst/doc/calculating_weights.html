<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="date" content="2024-11-22" />

<title>Preprocessing and Calculating Weights</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">

div.csl-bib-body { }
div.csl-entry {
clear: both;
margin-bottom: 0em;
}
.hanging div.csl-entry {
margin-left:2em;
text-indent:-2em;
}
div.csl-left-margin {
min-width:2em;
float:left;
}
div.csl-right-inline {
margin-left:2em;
padding-left:1em;
}
div.csl-indent {
margin-left: 2em;
}
</style>

<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Preprocessing and Calculating Weights</h1>
<h4 class="date">2024-11-22</h4>



<div id="loading-r-packages" class="section level1">
<h1>Loading R packages</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># install.packages(&quot;maicplus&quot;)</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(maicplus)</span></code></pre></div>
<p>Additional R packages for this vignette:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
</div>
<div id="preprocessing" class="section level1">
<h1>Preprocessing</h1>
<div id="preprocessing-ipd" class="section level2">
<h2>Preprocessing IPD</h2>
<p>This example reads in <code>adsl_sat</code> data and shows how
weights are calculated.</p>
<p>In this example scenario, age, sex, ECOG performance status, smoking
status, and number of previous treatments have been identified as
imbalanced prognostic variables and/or effect modifiers.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;adsl_sat&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co"># Data containing the matching variables</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>adsl_sat <span class="ot">&lt;-</span> adsl_sat <span class="sc">%&gt;%</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">SEX_MALE =</span> <span class="fu">ifelse</span>(SEX <span class="sc">==</span> <span class="st">&quot;Male&quot;</span>, <span class="dv">1</span>, <span class="dv">0</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">AGE_SQUARED =</span> AGE<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co"># Could use built-in function for dummizing variables</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co"># adsl_sat &lt;- dummize_ipd(adsl_sat, dummize_cols = &quot;SEX&quot;, dummize_ref_level = c(&quot;Female&quot;))</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a><span class="co"># Rename adsl as ipd</span></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>ipd <span class="ot">&lt;-</span> adsl_sat</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a><span class="fu">head</span>(ipd)</span></code></pre></div>
<pre><code>##   USUBJID ARM AGE    SEX SMOKE ECOG0 N_PR_THER SEX_MALE AGE_SQUARED
## 1       1   A  45   Male     0     0         4        1        2025
## 2       2   A  71   Male     0     0         3        1        5041
## 3       3   A  58   Male     1     1         2        1        3364
## 4       4   A  48 Female     0     1         4        0        2304
## 5       5   A  69   Male     0     1         4        1        4761
## 6       6   A  48 Female     0     1         4        0        2304</code></pre>
</div>
<div id="preprocessing-aggregate-data" class="section level2">
<h2>Preprocessing aggregate data</h2>
<p>There are two methods for specifying aggregate data. The first method
involves importing aggregate data via an Excel spreadsheet. Within the
spreadsheet, variable types such as mean, median, or standard deviation
are possible for continuous variables, while count or proportion are
possible for binary variables. Each variable should be suffixed
accordingly: _COUNT, _MEAN, _MEDIAN, _SD, or _PROP. Subsequently, the
<code>process_agd</code> function will convert counts into
proportions.</p>
<p>The second method entails defining a data frame of aggregate data in
R. When using this approach, the _COUNT prefix should be omitted, and
only proportions are permissible for binary variables. Other suffixes
remain consistent with the first method.</p>
<p>Any missing values in binary variables should be addressed by
adjusting the denominator to account for missing counts, i.e., the
proportion equals the count divided by (N - missing).</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="co"># Through an excel spreadsheet</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a><span class="co"># target_pop &lt;- data(agd)</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="co"># agd &lt;- process_agd(agd)</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co"># Second approach by defining a data frame in R</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>agd <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>  <span class="at">AGE_MEAN =</span> <span class="dv">51</span>,</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a>  <span class="at">AGE_SD =</span> <span class="fl">3.25</span>,</span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a>  <span class="at">SEX_MALE_PROP =</span> <span class="dv">147</span> <span class="sc">/</span> <span class="dv">300</span>,</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a>  <span class="at">ECOG0_PROP =</span> <span class="fl">0.40</span>,</span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a>  <span class="at">SMOKE_PROP =</span> <span class="dv">58</span> <span class="sc">/</span> (<span class="dv">300</span> <span class="sc">-</span> <span class="dv">5</span>),</span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a>  <span class="at">N_PR_THER_MEDIAN =</span> <span class="dv">2</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a>)</span></code></pre></div>
<div id="how-_sd-prefix-is-handled" class="section level3">
<h3>How _SD prefix is handled</h3>
<p>As outlined in NICE DSU TSD 18 Appendix D <span class="citation">[1]</span>, balancing on both mean and standard
deviation for continuous variables may be necessary in certain
scenarios. When a standard deviation is provided in the comparator
population, preprocessing involves calculating <span class="math inline">\(E(X^2)\)</span> in the target population
(i.e. aggregate data) using the variance formula <span class="math inline">\(Var(X)=E(X^{2})-E(X)^{2}\)</span>. This calculated
<span class="math inline">\(E(X^2)\)</span> in the target population is
then aligned with <span class="math inline">\(X^{2}\)</span> computed in
the internal IPD.</p>
</div>
<div id="how-_median-prefix-is-handled" class="section level3">
<h3>How _MEDIAN prefix is handled</h3>
<p>When a median is provided, IPD is preprocessed to categorize the
variable into a binary form. Values in the IPD exceeding the comparator
population median are assigned a value of 1, while values lower than the
median are assigned 0. The comparator population median is replaced by
0.5 to adjust to the binary categorization in the IPD data.
Subsequently, the newly formed IPD binary variable is aligned to ensure
a proportion of 0.5.</p>
</div>
</div>
<div id="centering-ipd" class="section level2">
<h2>Centering IPD</h2>
<p>In the introduction vignette, we explain why centering the IPD
variables using aggregate data means is needed when calculating weights.
The function <code>center_ipd</code> centers the IPD using the aggregate
data means.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>ipd_centered <span class="ot">&lt;-</span> <span class="fu">center_ipd</span>(<span class="at">ipd =</span> ipd, <span class="at">agd =</span> agd)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="fu">head</span>(ipd_centered)</span></code></pre></div>
<pre><code>##   USUBJID ARM AGE    SEX SMOKE ECOG0 N_PR_THER SEX_MALE AGE_SQUARED
## 1       1   A  45   Male     0     0         4        1        2025
## 2       2   A  71   Male     0     0         3        1        5041
## 3       3   A  58   Male     1     1         2        1        3364
## 4       4   A  48 Female     0     1         4        0        2304
## 5       5   A  69   Male     0     1         4        1        4761
## 6       6   A  48 Female     0     1         4        0        2304
##   AGE_CENTERED AGE_SQUARED_CENTERED SEX_MALE_CENTERED ECOG0_CENTERED
## 1           -6            -586.5625              0.51           -0.4
## 2           20            2429.4375              0.51           -0.4
## 3            7             752.4375              0.51            0.6
## 4           -3            -307.5625             -0.49            0.6
## 5           18            2149.4375              0.51            0.6
## 6           -3            -307.5625             -0.49            0.6
##   SMOKE_CENTERED N_PR_THER_MEDIAN_CENTERED
## 1     -0.1966102                       0.5
## 2     -0.1966102                       0.5
## 3      0.8033898                      -0.5
## 4     -0.1966102                       0.5
## 5     -0.1966102                       0.5
## 6     -0.1966102                       0.5</code></pre>
</div>
</div>
<div id="calculating-weights" class="section level1">
<h1>Calculating weights</h1>
<p>We utilize the centered IPD and employ the
<code>estimate_weights</code> function to compute the weights. Prior to
executing this function, it’s essential to specify the centered columns,
i.e., the covariates to be utilized in the optimization process.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="co"># list variables that are going to be used to match</span></span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>centered_colnames <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;AGE&quot;</span>, <span class="st">&quot;AGE_SQUARED&quot;</span>, <span class="st">&quot;SEX_MALE&quot;</span>, <span class="st">&quot;ECOG0&quot;</span>, <span class="st">&quot;SMOKE&quot;</span>, <span class="st">&quot;N_PR_THER_MEDIAN&quot;</span>)</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>centered_colnames <span class="ot">&lt;-</span> <span class="fu">paste0</span>(centered_colnames, <span class="st">&quot;_CENTERED&quot;</span>)</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>weighted_sat <span class="ot">&lt;-</span> <span class="fu">estimate_weights</span>(</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  <span class="at">data =</span> ipd_centered,</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>  <span class="at">centered_colnames =</span> centered_colnames</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a>)</span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co"># Alternatively, you can specify the numeric column locations for centered_colnames</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a><span class="co"># match_res &lt;- estimate_weights(ipd_centered, centered_colnames = c(14, 16:20))</span></span></code></pre></div>
<p>Following the calculation of weights, it is necessary to determine
whether the optimization procedure has worked correctly and whether the
weights derived are sensible.</p>
<p>The approximate effective sample size is calculated as: <span class="math display">\[ ESS =  \frac{({ \sum_{i=1}^n\hat{\omega}_i
})^2}{ \sum_{i=1}^n \hat{\omega}^2_i} \]</span> A small ESS, relative to
the original sample size, is an indication that the weights are highly
variable and that the estimate may be unstable. This often occurs if
there is very limited overlap in the distribution of the matching
variables between the populations being compared.</p>
<p>In this example, the ESS reduction is 66.73% of the total number of
patients in the intervention arm (500 patients in total). As this is a
considerable reduction, estimates using this weighted data may be
unreliable.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>weighted_sat<span class="sc">$</span>ess</span></code></pre></div>
<pre><code>## [1] 166.3675</code></pre>
<p>Also, it is useful to visualize the weights using a histogram to
check if there are any extreme weights. Scaled weights are weights that
are relative to the original unit weights of each individual. Scaled
weights are calculated as <span class="math display">\[\tilde{w}_i  =  \frac{\hat{w}_i}{\sum_{i=1}^n
\hat{w}_i} \times n \]</span>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="fu">plot</span>(weighted_sat)</span></code></pre></div>
<p><img role="img" src="data:image/png;base64,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" /><!-- --></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># ggplot option is also available</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="co"># plot(weighted_sat, ggplot = TRUE, bin_col = &quot;black&quot;, vline_col = &quot;red&quot;)</span></span></code></pre></div>
<p>Another check would be to look at whether the weighted summary of
covariates in internal IPD match the external aggregate data
summary.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="fu">check_weights</span>(weighted_sat, agd)</span></code></pre></div>
<pre><code>##   covariate match_stat internal_trial internal_trial_after_weighted
## 1       AGE       Mean         59.850                         51.00
## 2       AGE         SD          9.011                          3.25
## 3  SEX_MALE       Prop          0.380                          0.49
## 4     ECOG0       Prop          0.410                          0.40
## 5     SMOKE       Prop          0.320                          0.20
## 6 N_PR_THER     Median          3.000                          2.00
##   external_trial sum_centered_IPD_with_weights
## 1          51.00                        0.0001
## 2           3.25                        0.0125
## 3           0.49                        0.0000
## 4           0.40                        0.0000
## 5           0.20                        0.0000
## 6           2.00                        0.0000</code></pre>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body" entry-spacing="0">
<div id="ref-phillippo2016b" class="csl-entry">
<div class="csl-left-margin">[1] </div><div class="csl-right-inline">Phillippo D, Ades T, Dias S, Palmer S, Abrams
KR, Welton N. NICE DSU technical support document 18: Methods for
population-adjusted indirect comparisons in submissions to NICE:
Appendix d: Worked example of MAIC and STC 2016.</div>
</div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
